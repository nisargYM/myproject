<html>
<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.1.0.min.js'></script>
</head>

<body>
	<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
</body>

<script>
var url_string = window.location.href;
var url = new URL(url_string);
var c = url.searchParams.get("c");
console.log(c);
var decoded = decodeURIComponent(c);
var decodedJSON = JSON.parse(decoded);
console.log(decodedJSON);
var values = [];
var labels = [];
for(var i=0;i<decodedJSON.length;i++){
	values[i]=parseInt(decodedJSON[i].doc_count);
	labels[i]=decodedJSON[i].key;
}
console.log(values);
console.log(labels);

var data = [{
  type: "pie",
  values: values,
  labels: labels,
//   textinfo: "label+percent",
  insidetextorientation: "radial"
}]

var layout = {
  height: 300,
  width: 300,
  title: 'Count of Interventions',
  font:{
    family: 'Raleway, sans-serif'
  },
margin: {
    l: 10,
    r: 50,
    b: 100,
    t: 100,
    pad: 4
  },
  outsidetextfont:"none",
  outsidetextfont:"none",	
  showlegend:false,
  textinfo:"none",

};
Plotly.newPlot('myDiv', data, layout)

</script>
</html>
